<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Baihan Lin's personal website">
    <meta name="author" content="Baihan Lin">
    <title>Baihan Lin</title>
    <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans+Extra+Condensed" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Nunito+Sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Saira" rel="stylesheet">
    <link href="../../css/bootstrap.css" rel="stylesheet">
    <link href="../../css/resume.css" rel="stylesheet">
    <link href="../../css/font-awesome.css" rel="stylesheet">
    <link href="../../css/devicons.css" rel="stylesheet">
    <link href="../../css/simple-line-icons.css" rel="stylesheet">

    <!-- <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script> -->
</head>

<style type="text/css">
    /* Format X and Y Axis */
    
    .axis path,
    .axis line {
        fill: none;
        stroke: black;
        shape-rendering: crispEdges;
    }
    
    .axis text {
        /*font-family: sans-serif;*/
        font-size: 11px;
    }
</style>

<body>
    <!--         <nav class="navbar navbar-expand-md navbar-dark bg-primary fixed-top" id="sideNav">
            <h3 class="bottom-some"><a style="color:#ffffff;display:inline;text-transform:none;" href="../../#">Baihan Lin&nbsp;&nbsp;</a></h3>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="../../#about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="../../#research">Research</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="../../#publications">Publications</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="../../#life">Life</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="../../bits">Bits</a>
                    </li>
                    <li><span class="nav-link js-scroll-trigger will-gone"><br/><br/></span></li>
                    <ul class="list-inline list-social-icons mb-0 top-some">
                        <li class="list-adaptive-item">
                            <a href="https://www.linkedin.com/in/doerlbh/">
                            <span class="fa-stack fa-md">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                            </a>
                        </li>
                        <li class="list-adaptive-item">
                            <a href="https://github.com/doerlbh">
                            <span class="fa-stack fa-md">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                            </a>
                        </li>
                        <li class="list-adaptive-item">
                            <a href="https://www.instagram.com/doerlbh/">
                            <span class="fa-stack fa-md">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-instagram fa-stack-1x fa-inverse"></i>
                            </span>
                            </a>
                        </li>
                        <li class="list-adaptive-item">
                            <a href="https://www.facebook.com/doerlbh">
                            <span class="fa-stack fa-md">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                            </a>
                        </li>
                        <li class="list-adaptive-item">
                            <a href="https://scholar.google.com/citations?user=H67KJ4cAAAAJ&hl=en">
                            <span class="fa-stack fa-md">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-graduation-cap fa-stack-1x fa-inverse"></i>
                            </span>
                            </a>
                        </li>
                        <li class="list-adaptive-item">
                            <a href="https://twitter.com/doerlbh">
                            <span class="fa-stack fa-md">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                            </a>
                        </li>
                    </ul>
                    <li class="nav-item will-gone">
                        <span class="nav-link js-scroll-trigger"> &#x21E7;<br/>see me at</span>
                    </li>
                </ul>
            </div>
        </nav>
        <nav class="navbar navbar-expand-md navbar-dark bg-primary fixed-top" id="projNav">
            <h3 class="bottom-some"><a style="color:#ffffff;display:inline;text-align:left;text-transform:none" href="../../#project">some cool projects I do</a></h3>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="../mentalRL">mental RL</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="../dynRSA"> dynamic RSA</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="../topology">topology</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="../neuralMDL">neural MDL</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="../tensegrity">tensegrity</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="../proteindesign">protein design</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="../pinocchio"> pinocchio VR</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="../osteoapp"> OsteoApp </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="../patch"> quanti patch </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#"></a>
                    </li>
                </ul>
            </div>
        </nav> -->
    <div class="container-fluid p-0">
        <section class="resume-section p-3 p-lg-5 d-flex flex-column" id="">
            <div class="my-auto">
                <h2 class="mb-5" , style="text-transform:none">iTDA: interactive topological data analysis (Demo)</h2>

                <b class="text-primary"> by <a href="https://www.baihan.nyc/">Baihan Lin</a>, Columbia University, 2019 &nbsp; </b>
                <p class="mb-5 text-primary">
                    <br> To visualize and compare a few state-of-the-art dimension reduction methods with TDA...
                    <br>
                    <table class="field-table">

                        <tr>
                            <td class="mb-5 text-primary"> Dataset: </td>
                            <td class="mb-5 text-primary">
                                <input type="radio" name="dataset" value="farrell" checked>&nbsp;scRNA-seq [10]&nbsp;
                                <input type="radio" name="dataset" value="mnist">&nbsp; MNIST &nbsp;
                                <input type="radio" name="dataset" value="neural">&nbsp; neural recording &nbsp;
                            </td>
                        </tr>

                        <tr>
                            <td class="mb-5 text-primary"> Metric: </td>
                            <td class="mb-5 text-primary">
                                <input type="radio" name="metric" value="euc" checked>&nbsp;Euclidean&nbsp;
                                <input type="radio" name="metric" value="cor">&nbsp;Correlation&nbsp;
                                <input type="radio" name="metric" value="cor">&nbsp;kNN&nbsp;
                                <input type="radio" name="metric" value="ham">&nbsp;Hamming&nbsp;
                                <input type="radio" name="metric" value="cos">&nbsp;Cosine&nbsp;
                            </td>
                        </tr>

                        <tr>
                            <td class="mb-5 text-primary"> Embedding: </td>
                            <td class="mb-5 text-primary">
                                <input type="radio" name="embedding" value="pca" id="embpca" checked> &nbsp;PCA [1] &nbsp;
                                <input type="radio" name="embedding" value="mds" id="embmds"> &nbsp;MDS [2] &nbsp;
                                <input type="radio" name="embedding" value="svd"> &nbsp;SVD &nbsp;
                                <input type="radio" name="embedding" value="tsne"> &nbsp;t-SNE [3] &nbsp;
                                <input type="radio" name="embedding" value="umap"> &nbsp;UMAP &nbsp;
                                <input type="radio" name="embedding" value="isomap"> &nbsp;ISOMAP &nbsp;
                                <input type="radio" name="embedding" value="jpca"> &nbsp;jPCA [5] &nbsp;
                                <input type="radio" name="embedding" value="pmds"> &nbsp;pMDS [6] &nbsp;

                            </td>
                        </tr>

                        <tr>
                            <td class="mb-5 text-primary"> Color: </td>
                            <td class="mb-5 text-primary">
                                <input type="radio" name="color" value="none" checked> &nbsp;none&nbsp;
                                <input type="radio" name="color" value="label"> &nbsp;label&nbsp;
                                <input type="radio" name="color" value="time"> &nbsp;time&nbsp;
                            </td>
                        </tr>

                        <tr>
                            <td class="mb-5 text-primary"> Clustering: </td>
                            <td class="mb-5 text-primary">
                                <input type="radio" name="clustering" value="none" checked> &nbsp;none &nbsp;
                                <input type="radio" name="clustering" value="kmeans"> &nbsp;kMeans &nbsp;
                                <input type="radio" name="clustering" value="knn"> &nbsp;kNN &nbsp;
                                <input type="radio" name="clustering" value="sl"> &nbsp;SL &nbsp;
                            </td>
                        </tr>
                        <tr>
                            <td class="mb-5 text-primary"> TDA: </td>
                            <td class="mb-5 text-primary">
                                <input type="radio" name="tda" value="none" checked> &nbsp;none&nbsp;
                                <input type="radio" name="tda" value="tda"> &nbsp;TDA [4]&nbsp;
                                <input type="radio" name="tda" value="ttda"> &nbsp;tTDA [7]&nbsp;
                                <input type="radio" name="tda" value="tsa"> &nbsp;TSA [8]&nbsp;
                            </td>
                            <td class="mb-5 text-primary">
                                <button onclick="" style="border-radius:12px;" id="advancedtda" disabled> &nbsp;options&nbsp;</button>
                            </td>

                        </tr>
                    </table>
                    <h4>Click on this text to update</h4>
                    <!-- <img src="../../img/random/sleep.jpg" alt="" class="photo"> -->
                </p>

                <div id="graph"></div>

                <script>
                    // dummyGraph();
                    drawPlots();

                    function dummyGraph() {
                        fetch('../datasets/miserables.json').then(res => res.json()).then(data => {
                            const Graph = ForceGraph()
                                (document.getElementById('graph'))
                                .graphData(data)
                                .nodeId('id')
                                .nodeRelSize(4)
                                .nodeVal('val')
                                .nodeLabel('id' + ':' + 'group')
                                .nodeAutoColorBy('group')
                                .linkSource('source')
                                .linkTarget('target')
                                .height(600)
                        });
                    }

                    function drawPlots() {
                        var dataset = []; // Initialize empty array
                        // var numDataPoints = 15; // Number of dummy data points
                        // var maxRange = Math.random() * 1000; // Max range of new values
                        // for (var i = 0; i < numDataPoints; i++) {
                        //     var newNumber1 = Math.floor(Math.random() * maxRange); // New random integer
                        //     var newNumber2 = Math.floor(Math.random() * maxRange); // New random integer
                        //     dataset.push([newNumber1, newNumber2]); // Add new number to array
                        // }
                        // var data = require('../datasets/farrell2018_pca.json');
                        d3.json('../datasets/farrell2018_pca.json').then(function(data) {
                        console.log(data);

                        for (var i = 0; i < data.data.length; i++) {
                            var newNumber1 = data.data[i].emb[0]; 
                            var newNumber2 = data.data[i].emb[1];
                            dataset.push([newNumber1, newNumber2]); // Add new number to array
                        }
                        // console.log(dataset);
                    });

                        // d3.json("../dataset/farrell2018_pca.json", function(error, data) {
                        //     data.forEach(function(d) {

                        //     }
                        //     // console.log(data);
                        // });

                        // Setup settings for graphic
                        var canvas_width = 500;
                        var canvas_height = 300;
                        var padding = 30; // for chart edges

                        // Create scale functions
                        var xScale = d3.scale.linear() // xScale is width of graphic
                            .domain([0, d3.max(dataset, function(d) {
                                return d[0]; // input domain
                            })])
                            .range([padding, canvas_width - padding * 2]); // output range

                        var yScale = d3.scale.linear() // yScale is height of graphic
                            .domain([0, d3.max(dataset, function(d) {
                                return d[1]; // input domain
                            })])
                            .range([canvas_height - padding, padding]); // remember y starts on top going down so we flip

                        // Define X axis
                        var xAxis = d3.svg.axis()
                            .scale(xScale)
                            .orient("bottom")
                            .ticks(5);

                        // Define Y axis
                        var yAxis = d3.svg.axis()
                            .scale(yScale)
                            .orient("left")
                            .ticks(5);

                        // Create SVG element
                        var svg = d3.select("#graph") // This is where we put our vis
                            .append("svg")
                            .attr("width", canvas_width)
                            .attr("height", canvas_height)

                        // Create Circles
                        svg.selectAll("circle")
                            .data(dataset)
                            .enter()
                            .append("circle") // Add circle svg
                            .attr("cx", function(d) {
                                return xScale(d[0]); // Circle's X
                            })
                            .attr("cy", function(d) { // Circle's Y
                                return yScale(d[1]);
                            })
                            .attr("r", 2); // radius

                        // Add to X axis
                        svg.append("g")
                            .attr("class", "x axis")
                            .attr("transform", "translate(0," + (canvas_height - padding) + ")")
                            .call(xAxis);

                        // Add to Y axis
                        svg.append("g")
                            .attr("class", "y axis")
                            .attr("transform", "translate(" + padding + ",0)")
                            .call(yAxis);

                        // On click, update with new data
                        d3.select("h4")
                            .on("click", function() {
                                var numValues = dataset.length; // Get original dataset's length
                                var maxRange = Math.random() * 1000; // Get max range of new values
                                dataset = []; // Initialize empty array
                                // for (var i = 0; i < numValues; i++) {
                                //     var newNumber1 = Math.floor(Math.random() * maxRange); // Random int for x
                                //     var newNumber2 = Math.floor(Math.random() * maxRange); // Random int for y
                                //     dataset.push([newNumber1, newNumber2]); // Add new numbers to array
                                // }
                                d3.json('../datasets/farrell2018_umap.json'), function(error,data) {
                        // console.log(data);

                        for (var i = 0; i < data.data.length; i++) {
                            var newNumber1 = data.data[i].emb[0]; 
                            var newNumber2 = data.data[i].emb[1];
                            dataset.push([newNumber1, newNumber2]); // Add new number to array
                        }
                        // console.log(dataset);
                    
                                // Update scale domains
                                xScale.domain([0, d3.max(dataset, function(d) {
                                    return d[0];
                                })]);
                                yScale.domain([0, d3.max(dataset, function(d) {
                                    return d[1];
                                })]);

                                // Update circles
                                svg.selectAll("circle")
                                    .data(dataset) // Update with new data
                                    .transition() // Transition from old to new
                                    .duration(1000) // Length of animation
                                    .each("start", function() { // Start animation
                                        d3.select(this) // 'this' means the current element
                                            .attr("fill", "red") // Change color
                                            .attr("r", 5); // Change size
                                    })
                                    .delay(function(d, i) {
                                        return i / dataset.length * 500; // Dynamic delay (i.e. each item delays a little longer)
                                    })
                                    //.ease("linear")  // Transition easing - default 'variable' (i.e. has acceleration), also: 'circle', 'elastic', 'bounce', 'linear'
                                    .attr("cx", function(d) {
                                        return xScale(d[0]); // Circle's X
                                    })
                                    .attr("cy", function(d) {
                                        return yScale(d[1]); // Circle's Y
                                    })
                                    .each("end", function() { // End animation
                                        d3.select(this) // 'this' means the current element
                                            .transition()
                                            .duration(500)
                                            .attr("fill", "black") // Change color
                                            .attr("r", 2); // Change radius
                                    });

                                // Update X Axis
                                svg.select(".x.axis")
                                    .transition()
                                    .duration(1000)
                                    .call(xAxis);

                                // Update Y Axis
                                svg.select(".y.axis")
                                    .transition()
                                    .duration(100)
                                    .call(yAxis);
                            }
                        }
                    }

                    function pcaTDAGraph() {
                        fetch('../datasets/farrell2018_pca.json').then(res => res.json()).then(data => {
                            const Graph = ForceGraph()
                                (document.getElementById('graph'))
                                .graphData(data)
                                .nodeId('id')
                                .nodeRelSize(4)
                                .nodeVal('val')
                                .nodeLabel('id' + ':' + 'group')
                                .nodeAutoColorBy('group')
                                .linkSource('source')
                                .linkTarget('target')
                                .height(600)
                        });
                    }

                    var nodes, links
                </script>

                <p class="mb-5 text-primary">
                    <b> References: </b>
                    <br>
                    <br> [1] Wold, S., Esbensen, K., & Geladi, P. (1987). Principal component analysis. <i>Chemometrics and intelligent laboratory systems</i>, 2(1-3), 37-52.
                    <br> [2] Borg, I., & Groenen, P. (2003). Modern multidimensional scaling: Theory and applications. <i>Journal of Educational Measurement</i>, 40(3), 277-280.
                    <br> [3] Maaten, L. V. D., & Hinton, G. (2008). Visualizing data using t-SNE. <i>Journal of machine learning research</i>, 9(Nov), 2579-2605.
                    <br> [4] Carlsson, G. (2009). Topology and data. <i>Bulletin of the American Mathematical Society</i>, 46(2), 255-308.
                    <br> [5] Churchland, M. M., Cunningham, J. P., Kaufman, M. T., Foster, J. D., Nuyujukian, P., Ryu, S. I., & Shenoy, K. V. (2012). Neural population dynamics during reaching. <i> Nature</i>, 487(7405), 51.
                    <br> [6] Lin, B., Mur, M., Kietzmann, T., & Kriegeskorte, N. (2019). Visualizing Representational Dynamics with Multidimensional Scaling Alignment. <i>2019 Conference on Cognitive Computational Neuroscience (CCN)</i>, 1030-1033
                    <br> [7] Lin, B. Cliques of single-cell RNA-seq profiles reveal insights into cell ecology during development and differentiation. <i> 2019 Conference on Intelligent Systems for Molecular Biology (ISMB)</i>.
                    <br> [8] Lin, B., Rabadan, R., & Kriegeskorte, N. (2019) What About Higher-Order Cellular Complexity? An Inquiry with Topological Simplicial Analysis. <i> 2019 NeurIPS 2019 Workshop on Learning Meaningful Representations of Life (LMRL)</i>.
                    <br> [9] Rizvi, A. H., Camara, P. G., Kandror, E. K., Roberts, T. J., Schieren, I., Maniatis, T., & Rabadan, R. (2017). Single-cell topological RNA-seq analysis reveals insights into cellular differentiation and development. <i>Nature biotechnology</i>, 35(6), 551.
                    <br> [10] Farrell, J. A., Wang, Y., Riesenfeld, S. J., Shekhar, K., Regev, A., & Schier, A. F. (2018). Single-cell reconstruction of developmental trajectories during zebrafish embryogenesis. <i>Science</i>, 360(6392), eaar3131.
                    <br> Bell, A. H., Malecek, N. J., Morin, E. L., Hadj-Bouziane, F., Tootell, R. B., & Ungerleider, L. G. (2011). Relationship between functional magnetic resonance imaging-identified regions and neuronal category selectivity. <i>Journal of Neuroscience</i>, 31(34), 12229-12240.
                    <br> LeCun, Y., Cortes, C., & Burges, C. J. (1998). The MNIST database of handwritten digits, 1998. URL http://yann.lecun.com/exdb/mnist, 10, 34.
                    <!-- <img src="../../img/random/sleep.jpg" alt="" class="photo"> -->
                </p>

            </div>
        </section>
    </div>
    <!-- Bootstrap core JavaScript -->
    <script src="../../js/jquery.min.js"></script>
    <script src="../../js/bootstrap.bundle.js"></script>
    <!-- Plugin JavaScript -->
    <script src="../../js/jquery.easing.js"></script>
    <!-- Custom scripts for this template -->
    <script src="../../js/resume.js"></script>
    <script src="//unpkg.com/force-graph"></script>
    <script src="//d3js.org/d3.v4.min.js"></script>
    <script src="../jsfunctions/tda.js"></script>
</body>
<!-- 
        <div class="flier2"><img src="img/random/rock.png" alt="" style="width:500px;height:300px;"></div>

        <div class="flier"><img src="img/random/doge.png" alt="" style="width:300px;height:400px;"></div>
         -->
<footer style="align:center;">&copy; Copyright 2016
    <script>
        new Date().getFullYear() > 2016 && document.write("-" + new Date().getFullYear());
    </script> by Baihan Lin</footer>

</html>